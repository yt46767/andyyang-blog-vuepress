## 微信小程序隐私指引如何填写？

现在微信小程序 **发布**，需要 更新填写 **隐私指引**

微信小程序隐私指引完整填写范本：

https://baijiahao.baidu.com/s?id=1717379305750296945&wfr=spider&for=pc

微信小程序隐私保护指引设置：

https://www.jianshu.com/p/6ef9c2955821



## 上线注意事项

+ 密钥失效与定期维护

  （1）每个合作行的证书是否合作行都给到我们这边失效的周期。
  （2）我们这边有没有对各个行的失效周期做好存档以及维护计划

+ 微信小程序的下载地址合法域名

  例如：微信头像地址、企业微信头像地址
  https://thirdwx.qlogo.cn;
  https://p.qlogo.cn;
  https://wework.qpic.cn;
  https://wx.qlogo.cn;

+ 微信小程序的request地址合法域名

  需加上请求后台的域名

+ 微信小程序的upload地址合法域名

  需加上请求后台的域名

+ 多个小程序互跳转，共用一个白名单如果只配一个openid即可

  场景：分享
  下一个白名单替换为最早的token

+ cdn服务挂机，设置默认不挂服务

  腾讯cdn访问不到就会回源，源头为我们提供的https集群服务，优化是我们设置了腾讯云cos存储桶



## 微信小程序生产包反编译

| 导语 最近小程序切到 pace+ 的 ci 上构建，由于 ci 编译和上传代码对于我们来说是黑盒，为了验证一些东西，需要将生产包反编译过来，仅供学习用途，切勿以身犯险。
获取小程序包
目前是有两种方式可以获取到小程序的资源包：

安卓 root 后，在微信文件目录
微信 windows PC 客户端，用户文件目录
安卓客户端
这里你可以使用 root 的真机，或者是模拟器，市面上有一些用来在 PC 上玩手游的模拟器，大部分都支持 root，这里推荐使用模拟器来获取，比如，夜神模拟器。

然后安装必要的一些 App：

微信
RE文件管理器 (或其他可以读写 root 权限目录的文件查看器)
QQ （或其他可以分享文件的工具）
首先在微信里打开想要获取资源包的小程序，用 RE文件管理器 找到目录 /data/data/com.tencent.mm/MicroMsg/{{一串32位的16进制字符串文件夹(用户id)}}/appbrand/pkg/，然后你就可以看到 .wxapkg 后缀的文件，一般是以 appid 命名，最后将 .wxapkg 文件用 RE文件查看器 压缩一下再通过 QQ 发送到电脑(这里不知道是 QQ 的限制还是 RE文件查看器 的限制，直接发送不会成功)。

windows PC 客户端
升级 PC 版的微信到可以支持小程序的版本，同样访问一下想要获取资源包的小程序。找到 C:\Users\{{电脑用户名}}\Documents\WeChat Files\Applet\{{小程序AppID}}\ 如果有分包，分包也会都在这里，也是以 .wxapkg 后缀的文件。和安卓不一样的是，这里的文件是加密的，我们需要先解密一下，得到未加密的资源包然后再反编译。

(解密工具见百度网盘，链接：https://pan.baidu.com/s/1Nhu7BAqK9fnV7wnPReF8wg 
提取码：m4a5)

反编译
https://github.com/xuedingmiaojun/wxappUnpacker，将这个项目 clone 下来后，按步骤安装依赖，然后指定资源包路径运行 bingo.sh 脚本，就能得到反编译后的完整包，换一下 appid 我们是可以直接在微信开发者工具里面直接打开和运行。当然，反编译的代码的可读性就看作者上传包时的压缩混淆程度了。
tips：

只有正式版的包可以正确被反编译，预览版和开发版不行
不要把 .wxapkg 反复压缩和通过企业微信或微信传输，中间可能照成文件损坏
