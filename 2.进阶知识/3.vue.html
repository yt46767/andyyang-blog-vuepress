<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>什么是虚拟DOM？ | andy的博客</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/andyyang-blog-vuepress/favicon.ico">
    <link rel="manifest" href="/andyyang-blog-vuepress/manifest.json">
    <link rel="apple-touch-icon" href="/andyyang-blog-vuepress/andyyang-blog-vuepress/icons/icon-152x152.png">
    <link rel="preconnect" href="https://ZHEDSTO6YB-dsn.algolia.net" crossorigin="true">
    <meta name="description" content="My note space build with vuepress">
    <meta property="article:modified_time" content="2022-09-16T13:10:52.000Z">
    <meta property="og:site_name" content="andy的博客">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/2.%E8%BF%9B%E9%98%B6%E7%9F%A5%E8%AF%86/3.vue.html">
    <meta name="twitter:url" content="/2.%E8%BF%9B%E9%98%B6%E7%9F%A5%E8%AF%86/3.vue.html">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="mulinzi">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta name="theme-color" content="rgba(255, 255, 255, 0.95)">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/andyyang-blog-vuepress/icons/icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/andyyang-blog-vuepress/assets/css/356.styles.7f5b43fa.css" as="style"><link rel="preload" href="/andyyang-blog-vuepress/assets/js/chunk-default.21cc7129.js" as="script"><link rel="preload" href="/andyyang-blog-vuepress/assets/css/0.styles.2729282c.css" as="style"><link rel="preload" href="/andyyang-blog-vuepress/assets/js/vendors~app.911457c4.js" as="script"><link rel="preload" href="/andyyang-blog-vuepress/assets/css/styles.bdb43170.css" as="style"><link rel="preload" href="/andyyang-blog-vuepress/assets/js/app.77efb429.js" as="script"><link rel="preload" href="/andyyang-blog-vuepress/assets/css/369.styles.5ba6a8df.css" as="style"><link rel="preload" href="/andyyang-blog-vuepress/assets/js/369.8ae23cd4.js" as="script"><link rel="preload" href="/andyyang-blog-vuepress/assets/js/808.a16a32cc.js" as="script"><link rel="preload" href="/andyyang-blog-vuepress/assets/css/364.styles.875f7ca2.css" as="style"><link rel="preload" href="/andyyang-blog-vuepress/assets/js/364.6411275a.js" as="script">
    <link rel="stylesheet" href="/andyyang-blog-vuepress/assets/css/356.styles.7f5b43fa.css"><link rel="stylesheet" href="/andyyang-blog-vuepress/assets/css/0.styles.2729282c.css"><link rel="stylesheet" href="/andyyang-blog-vuepress/assets/css/styles.bdb43170.css"><link rel="stylesheet" href="/andyyang-blog-vuepress/assets/css/369.styles.5ba6a8df.css"><link rel="stylesheet" href="/andyyang-blog-vuepress/assets/css/364.styles.875f7ca2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div data-app="true" id="doc" class="v-application v-application--is-ltr theme--light" data-v-85cb3d8a><div class="v-application--wrap"><!----> <header class="v-sheet theme--light elevation-0 v-toolbar v-toolbar--dense v-app-bar v-app-bar--clipped" style="height:48px;margin-top:0px;transform:translateY(0px);left:0px;right:0px;" data-v-7a69d0a6 data-v-85cb3d8a><div class="v-toolbar__content" style="height:48px;"><button type="button" class="v-app-bar__nav-icon v-btn v-btn--icon v-btn--round theme--light v-size--default" data-v-7a69d0a6><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-menu theme--light" data-v-7a69d0a6></i></span></button> <div class="spacer" data-v-7a69d0a6></div> <div class="v-menu" data-v-7a69d0a6><button type="button" class="account-menu v-btn v-btn--text theme--light v-size--large" data-v-7a69d0a6><span class="v-btn__content"><div class="v-avatar mr-2" style="height:36px;min-width:36px;width:36px;" data-v-7a69d0a6><img src="/andyyang-blog-vuepress/assets/img/me.f91f18c4.png" alt="mulinzi" data-v-7a69d0a6></div> <span class="pl-1 pr-1" data-v-7a69d0a6>Andyyang</span> <i aria-hidden="true" class="v-icon notranslate mdi mdi-chevron-down theme--light" data-v-7a69d0a6></i></span></button><!----></div></div></header> <nav class="v-navigation-drawer v-navigation-drawer--clipped v-navigation-drawer--close v-navigation-drawer--fixed v-navigation-drawer--is-mobile theme--light" style="height:100vh;top:0px;transform:translateX(-100%);width:300px;" data-v-67c32539 data-v-85cb3d8a><div class="v-navigation-drawer__content"><div class="v-input mx-2 mt-3 v-input--hide-details v-input--dense theme--light v-text-field v-text-field--enclosed v-text-field--outlined" data-v-67c32539><div class="v-input__control"><div class="v-input__slot"><fieldset aria-hidden="true"><legend style="width:0px;"><span class="notranslate">&#8203;</span></legend></fieldset><div class="v-text-field__slot"><label for="input-22193" class="v-label theme--light" style="left:0px;right:auto;position:absolute;">查找笔记文件</label><input id="input-22193" type="text"></div><div class="v-input__append-inner"><div></div></div><div class="v-input__append-inner"><div class="v-input__icon v-input__icon--append"><i aria-hidden="true" class="v-icon notranslate mdi mdi-magnify theme--light"></i></div></div></div></div></div> <div class="v-treeview v-treeview--hoverable theme--light" data-v-67c32539><div aria-expanded="false" class="v-treeview-node v-treeview-node--click"><div class="v-treeview-node__root"><button type="button" class="v-icon notranslate v-treeview-node__toggle v-icon--link mdi mdi-menu-down theme--light"></button><div class="v-treeview-node__content"><div class="v-treeview-node__prepend"><i aria-hidden="true" class="v-icon notranslate mdi mdi-folder theme--light" data-v-67c32539></i></div><div class="v-treeview-node__label"><span class="v-tooltip v-tooltip--right" data-v-67c32539><!----><div aria-haspopup="true" aria-expanded="false" class="leaf-label" data-v-67c32539>
            1.基础知识
          </div></span></div></div></div><!----></div><div aria-expanded="false" class="v-treeview-node v-treeview-node--click"><div class="v-treeview-node__root"><button type="button" class="v-icon notranslate v-treeview-node__toggle v-icon--link mdi mdi-menu-down theme--light"></button><div class="v-treeview-node__content"><div class="v-treeview-node__prepend"><i aria-hidden="true" class="v-icon notranslate mdi mdi-folder theme--light" data-v-67c32539></i></div><div class="v-treeview-node__label"><span class="v-tooltip v-tooltip--right" data-v-67c32539><!----><div aria-haspopup="true" aria-expanded="false" class="leaf-label" data-v-67c32539>
            2.进阶知识
          </div></span></div></div></div><!----></div><div aria-expanded="false" class="v-treeview-node v-treeview-node--click"><div class="v-treeview-node__root"><button type="button" class="v-icon notranslate v-treeview-node__toggle v-icon--link mdi mdi-menu-down theme--light"></button><div class="v-treeview-node__content"><div class="v-treeview-node__prepend"><i aria-hidden="true" class="v-icon notranslate mdi mdi-folder theme--light" data-v-67c32539></i></div><div class="v-treeview-node__label"><span class="v-tooltip v-tooltip--right" data-v-67c32539><!----><div aria-haspopup="true" aria-expanded="false" class="leaf-label" data-v-67c32539>
            3.常见知识
          </div></span></div></div></div><!----></div><div aria-expanded="false" class="v-treeview-node v-treeview-node--click"><div class="v-treeview-node__root"><button type="button" class="v-icon notranslate v-treeview-node__toggle v-icon--link mdi mdi-menu-down theme--light"></button><div class="v-treeview-node__content"><div class="v-treeview-node__prepend"><i aria-hidden="true" class="v-icon notranslate mdi mdi-folder theme--light" data-v-67c32539></i></div><div class="v-treeview-node__label"><span class="v-tooltip v-tooltip--right" data-v-67c32539><!----><div aria-haspopup="true" aria-expanded="false" class="leaf-label" data-v-67c32539>
            4.常见问题
          </div></span></div></div></div><!----></div><div aria-expanded="false" class="v-treeview-node v-treeview-node--click"><div class="v-treeview-node__root"><button type="button" class="v-icon notranslate v-treeview-node__toggle v-icon--link mdi mdi-menu-down theme--light"></button><div class="v-treeview-node__content"><div class="v-treeview-node__prepend"><i aria-hidden="true" class="v-icon notranslate mdi mdi-folder theme--light" data-v-67c32539></i></div><div class="v-treeview-node__label"><span class="v-tooltip v-tooltip--right" data-v-67c32539><!----><div aria-haspopup="true" aria-expanded="false" class="leaf-label" data-v-67c32539>
            5.图书馆
          </div></span></div></div></div><!----></div><div aria-expanded="false" class="v-treeview-node v-treeview-node--click"><div class="v-treeview-node__root"><button type="button" class="v-icon notranslate v-treeview-node__toggle v-icon--link mdi mdi-menu-down theme--light"></button><div class="v-treeview-node__content"><div class="v-treeview-node__prepend"><i aria-hidden="true" class="v-icon notranslate mdi mdi-folder theme--light" data-v-67c32539></i></div><div class="v-treeview-node__label"><span class="v-tooltip v-tooltip--right" data-v-67c32539><!----><div aria-haspopup="true" aria-expanded="false" class="leaf-label" data-v-67c32539>
            6.资源
          </div></span></div></div></div><!----></div></div></div><div class="v-navigation-drawer__border"></div></nav> <main class="v-main" style="padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;" data-v-85cb3d8a><div class="v-main__wrap"><!----> <div id="scroll-body" class="theme-container py-sm-10 py-0" data-v-85cb3d8a><div class="theme-default-content d-flex flex-column pa-sm-6 pa-2" data-v-85cb3d8a><div class="content__default"><h2 id="什么是虚拟dom"><a href="#什么是虚拟dom" class="header-anchor">#</a> 什么是虚拟DOM？</h2> <p>把真实DOM树的结构和信息，<strong>抽象</strong>成<strong>对象</strong>，来模拟树形结构</p> <ul><li>例：</li></ul> <div class="language- extra-class"><pre class="language-text"><code>真实DOM:

&lt;div&gt;
    &lt;p&gt;Hello World&lt;/p&gt;
&lt;/div&gt;
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>虚拟DOM：
let vnode = {
    tag: 'div',
    children:[ {tag:'p', text:'Hello World'}]
}
</code></pre></div><ul><li>属性:</li></ul> <p>​		tag、children、text</p> <h2 id="diff算法"><a href="#diff算法" class="header-anchor">#</a> Diff算法</h2> <p>数组的<strong>数值更新</strong>、<strong>组件创建</strong>时，</p> <p>​				|</p> <p>​				/</p> <p>会运行update函数，</p> <p>​				|</p> <p>​				/</p> <p><strong>update</strong> 函数 <strong>调用</strong> 组件的 <strong>render</strong> 函数</p> <p>​				|</p> <p>​				/</p> <p><strong>render</strong> 函数 <strong>生成</strong> <strong>新虚拟dom树</strong></p> <p>​				|</p> <p>​				/</p> <p><strong>_vnode</strong> 将 旧虚拟dom树 <strong>替换为</strong> <strong>新虚拟dom树</strong>，用 <strong>一个变量</strong> 保存 <strong>旧虚拟dom树</strong></p> <p>​				|</p> <p>​				/</p> <p>接着，调用 <strong>patch函数</strong> 进行 <strong>diff算法</strong> 对比</p> <p>​				|</p> <p>​				/</p> <p>diff算法：<strong>新旧</strong>虚拟dom树 <strong>同层 同节点</strong> 寻找对比</p> <p>​				|</p> <p>​				/</p> <p>同节点：相同标签、相同key、相同type（input时需要）</p> <p>https://blog.csdn.net/qq_45955580/article/details/118221402</p> <h2 id="双向数据绑定"><a href="#双向数据绑定" class="header-anchor">#</a> 双向数据绑定</h2> <ul><li>vue2.0原理：</li></ul> <p>​		<strong>Object.defineProperty</strong>() 来劫持 <strong>各个属性</strong> 的 <strong>setter、getter</strong>，</p> <p>​		在 <strong>数据变动时</strong> <strong>发布消息</strong> 给 <strong>订阅者</strong>，</p> <p>​		<strong>触发</strong> 相应的 <strong>监听回调</strong>，例：computed 或 watch监听回调</p> <p>https://baijiahao.baidu.com/s?id=1727005669291246346&amp;wfr=spider&amp;for=pc</p> <h2 id="设计模式"><a href="#设计模式" class="header-anchor">#</a> 设计模式</h2> <ul><li><p><strong>工厂模式</strong></p> <p>传入参数即可创建实例</p></li> <li><p><strong>单例模式</strong></p> <p>整个程序 <strong>只</strong>有 <strong>一个实例</strong></p></li> <li><p><strong>发布-订阅模式</strong></p> <p>事件机制</p> <p>例：</p> <div class="language- extra-class"><pre class="language-text"><code>// 事件中心
let eventBus = new Vue()
 
// 发布消息事件        
eventBus.$emit('add-todo',{name:'xiaogao'})

 // 订阅消息 事件
eventBus.$on('add-to',this.addToto)
</code></pre></div><p>https://blog.csdn.net/weixin_43097944/article/details/116094093</p></li> <li><p><strong>观察者模式</strong></p> <p>响应式数据</p></li> <li><p><strong>装饰模式</strong></p> <p>@装饰器</p></li> <li><p><strong>策略模式</strong></p> <p><strong>对象</strong>，在 <strong>不同场景</strong> 有 相应的 <strong>不同 行为</strong></p></li></ul> <p>https://baijiahao.baidu.com/s?id=1727005669291246346&amp;wfr=spider&amp;for=pc</p> <h2 id="vue与react的区别"><a href="#vue与react的区别" class="header-anchor">#</a> vue与react的区别</h2> <p>vue:</p> <div class="language- extra-class"><pre><code>1. **双向**数据绑定（加了**v-model**）
</code></pre></div><p>react:</p> <ol><li>**单向 **数据绑定</li> <li><strong>比较引用</strong>，组件 <strong>重新渲染</strong></li> <li>用 <strong>jsx</strong> 的渲染模板</li></ol> <p>https://baijiahao.baidu.com/s?id=1727005669291246346&amp;wfr=spider&amp;for=pc</p> <h2 id="vue模板编译原理"><a href="#vue模板编译原理" class="header-anchor">#</a> vue模板编译原理</h2> <ol><li><strong>beforeMounted前</strong>，用 <strong>html-parser</strong> 将<strong>template模板字符串</strong> 转为 <strong>ast</strong>，</li> <li>通过 <strong>optimize</strong> 优化 ast 标记 <strong>静态的</strong> <strong>节点和根节点</strong>，</li> <li>通过 <strong>generate</strong> 将 ast 编译成 <strong>render字符串</strong>，<strong>生成</strong> <strong>render函数</strong></li> <li>在 <strong>beforeMount 和 mounted</strong> <strong>中间</strong>，执行 render函数 <strong>生成 VNode</strong></li> <li>通过 <strong>patch (VNode)</strong> 生成 <strong>dom树</strong></li> <li>调用 <strong>mounted</strong></li></ol> <p>​	https://blog.csdn.net/lyt_angularjs/article/details/105250391</p> <h2 id="data-为什么是一个函数"><a href="#data-为什么是一个函数" class="header-anchor">#</a> data 为什么是一个函数</h2> <p>每个<strong>组件实例</strong>，都有自己的作用域</p> <p><strong>Object</strong> 是 <strong>引用数据类型</strong>，如果不用函数，data将 <strong>共用 一个内存地址</strong></p> <p>https://baijiahao.baidu.com/s?id=1727005669291246346&amp;wfr=spider&amp;for=pc</p> <h2 id="proxy-与-object-defineproperty-区别"><a href="#proxy-与-object-defineproperty-区别" class="header-anchor">#</a> proxy 与 Object.defineProperty 区别</h2> <p>Object.defineProperty：</p> <p>​	1.只能劫持 对象的属性（即：对每个对象进行遍历）</p> <p>proxy ：</p> <p>​	1.劫持 <strong>整个对象</strong>，返回新对象</p> <p>https://baijiahao.baidu.com/s?id=1727005669291246346&amp;wfr=spider&amp;for=pcn</p> <p>numer、array、object、symbol、boolean、string</p> <p>作用域：</p> <p>全局window var、块function const let</p> <p>闭包：</p> <p>function （）{</p> <p>​	var</p> <p>​	return</p> <p>}</p> <p>js 继承方式</p> <p>extend class</p> <p>原生js :</p> <p>父类 function</p> <p>拷贝</p> <p>lodash工具类：var 对象 = _.deepclone(目标对象)</p> <p>JSON.()</p> <p>deepclone: 遍历log(n) if</p> <p>promise</p> <p>function promise</p> <p>​	var status = pending 、resolve、reject</p> <p>​	var value =</p> <p>​	return resolve(){</p> <p>​	if(status = resolve)</p> <p>​	value = 'resolve'</p> <p>​	}</p> <p>promise.prot.then = (full,fire)</p> <p>​	this.status = resolve</p> <p>​	full(value)</p> <p>​	if (ta)</p> <p>​	file(value)</p> <p>promise.all()</p> <p>promise.</p> <p>vue 生命周期</p> <p>beforecreate</p> <p>create</p> <p>beforemount</p> <p>mounted</p> <p>beforeupdate</p> <p>updated</p> <p>beforedestroy</p> <p>destroy</p> <p>父子组件</p> <p>子 父</p> <p>props</p> <p>单向</p> <p>v-model</p> <p>双向</p> <p>eventbus</p> <p>事件中心</p> <p>react</p> <p>content</p> <p>webpack</p> <p>1.分渠道</p> <p>2.按需加载 路由器按需配置</p> <p>3.入口</p> <p>二进制流</p> <p>文件夹、文件</p> <p>4.配置加载器</p> <p>html、css、svg、vue、image、font加载解析器</p> <p>配置目录</p> <p>svg</p> <p>css postcss 补全、合入</p> <p>image</p> <p>vue -loader htmlparse scrptparse cssparse</p> <p>template script style</p> <p>html css js</p> <p>mainfest.json</p> <p>image svg</p> <p>static css image</p> <h2 id="vue-useform-表单组件封装-vben"><a href="#vue-useform-表单组件封装-vben" class="header-anchor">#</a> vue useform 表单组件封装 —— Vben</h2> <p>https://segmentfault.com/a/1190000041531167</p> <p>vben源码
https://toscode.gitee.com/zsvg/vboot-vben#http://zsvg.gitee.io/vnds</p> <p>vscode安装扩展插件</p> <p><img src="https://gitee.com/yt46767/doc/raw/master/image-20220703104241036.png" alt="image-20220703104241036"></p> <p>插件名列表</p> <p><img src="https://gitee.com/yt46767/doc/raw/master/image-20220703104339808.png" alt="image-20220703104339808"></p> <h2 id="vue的生命周期钩子函数可以用箭头函数来写"><a href="#vue的生命周期钩子函数可以用箭头函数来写" class="header-anchor">#</a> vue的生命周期钩子函数可以用箭头函数来写？</h2> <p>答：
不能</p> <p>原因：因为钩子函数的上下文指向的就是vue，
而箭头函数的this为上一级的作用域上下文，
从而会导致this无法指向vue实例</p> <p>本质原因：指向不一样！</p></div> <div class="spacer"></div> <div class="prev-next d-none d-sm-flex justify-space-between mt-9" data-v-cf01dfa6><button type="button" class="ml-n4 v-btn v-btn--plain theme--light v-size--default primary--text" data-v-cf01dfa6><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate v-icon--dense mdi mdi-arrow-left theme--light" data-v-cf01dfa6></i> <span data-v-cf01dfa6>2.react</span></span></button> <div class="spacer" data-v-cf01dfa6 data-v-cf01dfa6></div> <button type="button" class="mr-n4 v-btn v-btn--plain theme--light v-size--default primary--text" data-v-cf01dfa6><span class="v-btn__content"><span data-v-cf01dfa6>4.typescript</span> <i aria-hidden="true" class="v-icon notranslate v-icon--dense mdi mdi-arrow-right theme--light" data-v-cf01dfa6></i></span></button></div></div></div> <div class="v-menu" data-v-85cb3d8a><!----></div> <button type="button" class="to-top v-btn v-btn--bottom v-btn--is-elevated v-btn--fab v-btn--fixed v-btn--has-bg v-btn--right v-btn--round theme--light v-size--default" style="display:none;" data-v-85cb3d8a data-v-85cb3d8a><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-arrow-expand-up theme--light primary--text" data-v-85cb3d8a></i></span></button></div></main> <!----></div></div><div class="global-ui"><div class="v-snack v-snack--bottom v-snack--has-background v-snack--right v-snack--vertical" style="padding-bottom:0px;padding-left:0px;padding-right:0px;padding-top:0px;" data-v-fec8b358><div class="v-snack__wrapper v-sheet theme--dark" style="max-width:0px;display:none;"><div role="status" aria-live="polite" class="v-snack__content">
    作者又有了新的笔记哟，点击刷新查看
    </div><div class="v-snack__action "><button type="button" class="v-btn v-btn--text theme--dark v-size--default v-snack__btn"><span class="v-btn__content">
        刷新
      </span></button></div></div></div></div></div>
    <script src="/andyyang-blog-vuepress/assets/js/chunk-default.21cc7129.js" defer></script><script src="/andyyang-blog-vuepress/assets/js/369.8ae23cd4.js" defer></script><script src="/andyyang-blog-vuepress/assets/js/808.a16a32cc.js" defer></script><script src="/andyyang-blog-vuepress/assets/js/364.6411275a.js" defer></script><script src="/andyyang-blog-vuepress/assets/js/vendors~app.911457c4.js" defer></script><script src="/andyyang-blog-vuepress/assets/js/app.77efb429.js" defer></script>
  </body>
</html>
