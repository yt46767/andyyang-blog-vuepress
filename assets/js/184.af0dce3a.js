(window.webpackJsonp=window.webpackJsonp||[]).push([[184],{105:function(t,n,r){"use strict";r.r(n);var a=r(7),e=Object(a.a)({},(function(){var t=this,n=t._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"reduce"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#reduce"}},[t._v("#")]),t._v(" reduce")]),t._v(" "),n("p",[n("strong",[t._v("接收一个函数")]),t._v("作为"),n("strong",[t._v("累加")]),t._v("器，数组中的每个值（从左到右）开始缩减，"),n("strong",[t._v("最终计算")]),t._v("为"),n("strong",[t._v("一个值")]),t._v("。即："),n("strong",[t._v("函数嵌套器/函数叠加器")]),t._v("。")]),t._v(" "),n("ul",[n("li",[t._v("注意：")])]),t._v(" "),n("p",[t._v("​\t\treduce"),n("strong",[t._v("不只")]),t._v("是做加法累加，还可以做 "),n("strong",[t._v("函数嵌套函数")]),t._v(" 实现compose等等。")]),t._v(" "),n("p",[t._v("​\t\t reduce() 对于"),n("strong",[t._v("空数组")]),t._v("是 "),n("strong",[t._v("不会执行")]),t._v(" "),n("strong",[t._v("回调函数")]),t._v(" 的。")]),t._v(" "),n("ul",[n("li",[t._v("语法糖：")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("  array"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("reduce")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("total"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" currentValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" currentIndex"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" arr")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" initialValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("table",[n("thead",[n("tr",[n("th",[n("em",[t._v("total")])]),t._v(" "),n("th",[t._v("必需。"),n("em",[t._v("初始值")]),t._v(", 或者计算结束后的返回值。")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[n("em",[t._v("currentValue")])]),t._v(" "),n("td",[t._v("必需。当前元素")])]),t._v(" "),n("tr",[n("td",[n("em",[t._v("currentIndex")])]),t._v(" "),n("td",[t._v("可选。当前元素的索引")])]),t._v(" "),n("tr",[n("td",[n("em",[t._v("arr")])]),t._v(" "),n("td",[t._v("可选。当前元素所属的数组对象")])])])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[n("em",[t._v("initialValue")])]),t._v(" "),n("th",[t._v("可选。传递给函数的初始值")])])]),t._v(" "),n("tbody")]),t._v(" "),n("p",[t._v("​\t\thttps://www.runoob.com/jsref/jsref-reduce.html")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("例子：")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("实现compose")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('function f1(arg) {\n  console.log("f1", arg);\n  return arg;\n}\nfunction f2(arg) {\n  console.log("f2", arg);\n  return arg;\n}\nfunction f3(arg) {\n  console.log("f3", arg);\n  return arg;\n}\n\nfunction compose(...funcs) {\n  if (funcs.length === 0) {\n    return arg => arg;\n  }\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n  return funcs.reduce((a, b) => (...args) => a(b(...args)));\n}\n\nlet res = compose(f1, f2, f3)("omg"); //等价于: f1(f2(f3("omg")));\n/* 结果为：\nf3 omg\nf2 omg\nf1 omg\n*/\nconsole.log("res", res); //sy-log\n/* 结果为：\nres omg\n*/\n\nlet res = compose()("omg"); \n//等价于: (arg)=>arg 或 function(arg){return arg;} 函数执行入参"omg"，结果没有任何打印，但返回“omg”字符串。\n')])])]),n("p",[t._v("https://gitee.com/menia/front-end-note/blob/master/%E6%9F%AF%E9%87%8C%E5%8C%96%EF%BC%88Currying%EF%BC%89%E4%B8%8E%E5%87%BD%E6%95%B0%E5%90%88%E6%88%90compose.md#%E5%90%88%E6%88%90compose")])]),t._v(" "),n("li",[n("p",[t._v("累加")])])])])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("    var arr = [1, 2, 3, 4];\n    var sum = arr.reduce(function(total, cur, index, arr) {\n        console.log(total, cur, index);\n        return total + cur;\n    })\n    console.log(arr, sum);\n")])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("    打印结果：\n    1 2 1\n    3 3 2\n    6 4 3\n    [1, 2, 3, 4] 10\n")])])]),n("p",[t._v("​\t\t这里可以看出，上面的例子"),n("strong",[t._v("index是从1开始")]),t._v("的，"),n("strong",[t._v("第一次的 total的值 是数组的第一个值")]),t._v("。数组长度是4，但是reduce函数"),n("strong",[t._v("循环3次")]),t._v("。")])])}),[],!1,null,null,null);n.default=e.exports}}]);