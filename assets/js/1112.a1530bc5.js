(window.webpackJsonp=window.webpackJsonp||[]).push([[1112],{429:function(e,t,s){"use strict";s.r(t);var a=s(7),r=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("p",[e._v("webpack devserver 代理 未转发 Post 请求 Body\n原因：缓存data数据已变，但res.json未转发出来\n解决\nonProxyReq: function(proxyReq, req, res, options) { // 由于vue中使用了body-parser 导致http中的body被序列化两次，从而使得配置代理后后端无法获取body中的数据\n···\nif (req.body) {\nconst reg = new RegExp('application/json')\nif (reg.test(proxyReq.getHeader('Content-Type'))) {\nconst bodyData = JSON.stringify(req.body)\nproxyReq.setHeader('Content-Length', Buffer.byteLength(bodyData))\n// stream the content\nproxyReq.write(bodyData)\n}\n}\n}\n由于我使用的是vue-cli，不好修改其代码，我就使用了http-proxy-middleware向外暴露的onProxyReq方法，在请求发送前对request - body进行一次处理，代码如下：\nhttps://blog.csdn.net/yuse6262/article/details/107393394")]),e._v(" "),t("h2",{attrs:{id:"postcss-loader-typeerror-this-getoptions-is-not-a-function-的解决"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#postcss-loader-typeerror-this-getoptions-is-not-a-function-的解决"}},[e._v("#")]),e._v(" postcss-loader TypeError: this.getOptions is not a function 的解决")]),e._v(" "),t("p",[e._v("问题的分析：这个实际上就是 postcss-loader 的版本过高，不兼容 getOptions 函数方法，所以需要对 postcss-loader 进行降级处理")]),e._v(" "),t("h2",{attrs:{id:"【重点】webpack跨域代理请求"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#【重点】webpack跨域代理请求"}},[e._v("#")]),e._v(" 【重点】webpack跨域代理请求")]),e._v(" "),t("p",[e._v("https://blog.csdn.net/zwq56693/article/details/109392721")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const proxyObj = {}\nproxyObj['/'] = {\n  target: 'http://localhost:8085',\n  changeOrigin: true,\n  pathRewrite: {\n    '^/': ''\n  }\n}\nmodule.exports = {\n  devServer: {\n    host: 'localhost',\n    port: 8080,\n    proxy: proxyObj\n  }\n}\n")])])]),t("p",[e._v("实例二：")]),e._v(" "),t("p",[e._v("举例：localhost:8080/api/xxx 代理到 http://192.168.10.183:8103/api/xxx,")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://images2018.cnblogs.com/blog/1100891/201802/1100891-20180227154919492-799319761.png",alt:"img"}})]),e._v(" "),t("p",[e._v("实际解决：")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/yt46767/doc/raw/master/image-20210714141937692.png",alt:""}})]),e._v(" "),t("p",[e._v("解决痛点：前端验证业务代码，之前只能通过部署测试环境才能验证")]),e._v(" "),t("h2",{attrs:{id:"js-ts代码用webpack打包-如何实现tree-shaking"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#js-ts代码用webpack打包-如何实现tree-shaking"}},[e._v("#")]),e._v(" js/ts代码用webpack打包，如何实现tree-shaking")]),e._v(" "),t("p",[e._v("https://blog.csdn.net/haodawang/article/details/77199980")]),e._v(" "),t("h3",{attrs:{id:"什么是tree-shaking"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是tree-shaking"}},[e._v("#")]),e._v(" 什么是tree-shaking?")]),e._v(" "),t("p",[e._v("Tree-shaking只对ES Module起作用，对于commonjs无效，对于umd亦无效")]),e._v(" "),t("p",[e._v("因为tree-shaking是针对静态结构进行分析，只有import和export是静态的导入和导出。而commonjs有动态导入和导出的功能，无法进行静态分析。")]),e._v(" "),t("p",[e._v("package.json中的sideEffects字段，默认为true")]),e._v(" "),t("p",[e._v("https://www.cnblogs.com/mengff/p/12845204.html")]),e._v(" "),t("h2",{attrs:{id:"lodash按需引入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#lodash按需引入"}},[e._v("#")]),e._v(" lodash按需引入")]),e._v(" "),t("p",[e._v("import {isEmpty,forIn, cloneDeep} from 'lodash-es'")]),e._v(" "),t("p",[e._v("https://blog.csdn.net/weixin_45377314/article/details/105657309")]),e._v(" "),t("p",[e._v("更完整文章：")]),e._v(" "),t("p",[e._v("https://www.cnblogs.com/fancyLee/p/10932050.html")]),e._v(" "),t("p",[e._v("更完美的配置：")]),e._v(" "),t("p",[e._v("全局引入+配套插件能按需引入，已验证是错的！")]),e._v(" "),t("p",[t("strong",[e._v('lodash之tree-shaing的正确书写方式： import indexOf from "lodash/indexOf"; + 配套插件')])]),e._v(" "),t("p",[e._v("https://www.dazhuanlan.com/cosis/topics/1269426")]),e._v(" "),t("h2",{attrs:{id:"error-in-static-js-vendor-f177572460bee23d0f73-js-from-uglifyjs-unexpected-token-name-«i»-expected-punc-«-»-static-js-vendor-f177572460bee23d0f73-js-6015-13"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#error-in-static-js-vendor-f177572460bee23d0f73-js-from-uglifyjs-unexpected-token-name-«i»-expected-punc-«-»-static-js-vendor-f177572460bee23d0f73-js-6015-13"}},[e._v("#")]),e._v(" ERROR in static/js/vendor.f177572460bee23d0f73.js from UglifyJs Unexpected token name «i», expected punc «;» [static/js/vendor.f177572460bee23d0f73.js:6015,13]")]),e._v(" "),t("p",[e._v("解决：")]),e._v(" "),t("div",{staticClass:"language-awk extra-class"},[t("pre",{pre:!0,attrs:{class:"language-awk"}},[t("code",[t("span",{pre:!0,attrs:{class:"token regex"}},[e._v("//")]),e._v("webpack.bae.conf.js\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n   test"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[e._v("/iview.src.*?js$/")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n   loader"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" 'babel"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("loader'\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("https://segmentfault.com/q/1010000009666527")]),e._v(" "),t("h2",{attrs:{id:"webpack对es6的类没按需剔除"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack对es6的类没按需剔除"}},[e._v("#")]),e._v(" webpack对es6的类没按需剔除")]),e._v(" "),t("p",[e._v("解决：我们需要将 ES6+ 代码传给 BabiliPlugin，否则它不用移除（未使用的）类。")]),e._v(" "),t("p",[e._v("https://www.sohu.com/a/166599083_463970")]),e._v(" "),t("p",[e._v("使用方法：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const BabiliPlugin = require('babili-webpack-plugin');\nconst UglifyJSPlugin = require('uglifyjs-webpack-plugin');\n\n\nnew BabiliPlugin(),\nnew webpack.DefinePlugin({\"process.env.NODE_ENV\":JSON.stringify(\"production\")}),\nnew UglifyJSPlugin(),\n")])])]),t("p",[e._v("https://www.cnblogs.com/tanshuai1001/p/6977967.html")]),e._v(" "),t("h2",{attrs:{id:"import-为什么会打进生产包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#import-为什么会打进生产包"}},[e._v("#")]),e._v(" import() 为什么会打进生产包")]),e._v(" "),t("p",[e._v("import() ，用于webpack2 按访问路由按需加载，它只会生成不同的chunk包。")]),e._v(" "),t("h2",{attrs:{id:"iview-引入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#iview-引入"}},[e._v("#")]),e._v(" iview 引入")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("import iView from 'iview'; \nimport 'iview/dist/styles/iview.css';\n")])])]),t("h3",{attrs:{id:"error-in-static-js-vendor-9886bb87fbe7f5995e0a-js-from-uglifyjs-unexpected-t"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#error-in-static-js-vendor-9886bb87fbe7f5995e0a-js-from-uglifyjs-unexpected-t"}},[e._v("#")]),e._v(" ERROR in static/js/vendor.9886bb87fbe7f5995e0a.js from UglifyJs Unexpected t")]),e._v(" "),t("p",[e._v("原因：由于 UglifyJs 只支持 ES5 而 "),t("strong",[e._v("ui框架")]),e._v(" 可能引入了一部分 ES6 的写法，所以导致 webpack 打包失败")]),e._v(" "),t("p",[e._v("错误解决：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("  module: {\n      rules: [\n          {\n              test: /\\.js$/,\n              loader: 'babel-loader',\n              include: [resolve('src'), resolve('test'),      \n              resolve('node_modules/iview/packages'), \n              resolve('/node_modules/iview/src')]\n          },\n          ...\n      ]\n  }\n")])])]),t("h3",{attrs:{id:"es6-转-es5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#es6-转-es5"}},[e._v("#")]),e._v(" es6 转 es5")]),e._v(" "),t("p",[e._v("采用babel-ployfill方案：http://www.512pic.com/184/5655-0.html")]),e._v(" "),t("h3",{attrs:{id:"error-in-static-js-vendor-6062eb4d57c9f1e079fe-js-from-uglifyjs-unexpected-token-operator-static-js-vendor-6062eb4d57c9f1e079fe-js-108002-21"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#error-in-static-js-vendor-6062eb4d57c9f1e079fe-js-from-uglifyjs-unexpected-token-operator-static-js-vendor-6062eb4d57c9f1e079fe-js-108002-21"}},[e._v("#")]),e._v(" ERROR in static/js/vendor.6062eb4d57c9f1e079fe.js from UglifyJs Unexpected token: operator (>) [static/js/vendor.6062eb4d57c9f1e079fe.js:108002,21]")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/yt46767/doc/raw/master/%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_16327275144506(1).png",alt:"img"}})]),e._v(" "),t("p",[e._v("解决：")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/yt46767/doc/raw/master/%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_16328212131182.png",alt:"img"}})]),e._v(" "),t("h1",{attrs:{id:"module-property-was-removed-from-dependency"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#module-property-was-removed-from-dependency"}},[e._v("#")]),e._v(" module property was removed from Dependency")]),e._v(" "),t("p",[e._v("https://blog.csdn.net/wanggmm/article/details/124444804")]),e._v(" "),t("h2",{attrs:{id:"安装sass-loader后-运行项目报错this-getoptions-is-not-a-function"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装sass-loader后-运行项目报错this-getoptions-is-not-a-function"}},[e._v("#")]),e._v(" 安装sass-loader后，运行项目报错this.getOptions is not a function")]),e._v(" "),t("p",[e._v("https://www.cnblogs.com/lgh344902118/p/16457595.html")]),e._v(" "),t("h2",{attrs:{id:"webpack-dev-server-不是内部或外部命令-解决方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack-dev-server-不是内部或外部命令-解决方法"}},[e._v("#")]),e._v(" 'webpack-dev-server' 不是内部或外部命令，解决方法")]),e._v(" "),t("p",[e._v("解决办法：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("npm install webpack webpack-dev-server webpack-cli --save-dev\n")])])]),t("p",[e._v("https://www.cnblogs.com/theblogs/p/14069099.html")]),e._v(" "),t("h2",{attrs:{id:"增加自定义变量-eslint报错"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#增加自定义变量-eslint报错"}},[e._v("#")]),e._v(" 增加自定义变量，eslint报错")]),e._v(" "),t("p",[e._v("eslint的globals增加$"),t("em",[e._v("的配置\n// .eslintrc.js\nglobals: {\n$")]),e._v(": 'readonly', // 或者true\n},\n配置为readonly是因为我们不会改写lodash，仅仅是调用其方法。\n来自 "),t("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/374552482",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://zhuanlan.zhihu.com/p/374552482"),t("OutboundLink")],1),e._v("\nhttps://cloud.tencent.com/developer/article/1444255")])])}),[],!1,null,null,null);t.default=r.exports}}]);