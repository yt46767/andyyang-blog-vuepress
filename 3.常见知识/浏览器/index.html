<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>工具 | andy的博客</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/andyyang-blog-vuepress/favicon.ico">
    <link rel="manifest" href="/andyyang-blog-vuepress/manifest.json">
    <link rel="apple-touch-icon" href="/andyyang-blog-vuepress/andyyang-blog-vuepress/icons/icon-152x152.png">
    <link rel="preconnect" href="https://ZHEDSTO6YB-dsn.algolia.net" crossorigin="true">
    <meta name="description" content="My note space build with vuepress">
    <meta property="article:modified_time" content="2022-09-16T13:10:52.000Z">
    <meta property="og:site_name" content="andy的博客">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/3.%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E6%B5%8F%E8%A7%88%E5%99%A8/">
    <meta name="twitter:url" content="/3.%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E6%B5%8F%E8%A7%88%E5%99%A8/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="mulinzi">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta name="theme-color" content="rgba(255, 255, 255, 0.95)">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/andyyang-blog-vuepress/icons/icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/andyyang-blog-vuepress/assets/css/356.styles.7f5b43fa.css" as="style"><link rel="preload" href="/andyyang-blog-vuepress/assets/js/chunk-default.21cc7129.js" as="script"><link rel="preload" href="/andyyang-blog-vuepress/assets/css/0.styles.2729282c.css" as="style"><link rel="preload" href="/andyyang-blog-vuepress/assets/js/vendors~app.911457c4.js" as="script"><link rel="preload" href="/andyyang-blog-vuepress/assets/css/styles.bdb43170.css" as="style"><link rel="preload" href="/andyyang-blog-vuepress/assets/js/app.77efb429.js" as="script"><link rel="preload" href="/andyyang-blog-vuepress/assets/css/369.styles.5ba6a8df.css" as="style"><link rel="preload" href="/andyyang-blog-vuepress/assets/js/369.8ae23cd4.js" as="script"><link rel="preload" href="/andyyang-blog-vuepress/assets/js/5.f6a25092.js" as="script"><link rel="preload" href="/andyyang-blog-vuepress/assets/css/364.styles.875f7ca2.css" as="style"><link rel="preload" href="/andyyang-blog-vuepress/assets/js/364.6411275a.js" as="script">
    <link rel="stylesheet" href="/andyyang-blog-vuepress/assets/css/356.styles.7f5b43fa.css"><link rel="stylesheet" href="/andyyang-blog-vuepress/assets/css/0.styles.2729282c.css"><link rel="stylesheet" href="/andyyang-blog-vuepress/assets/css/styles.bdb43170.css"><link rel="stylesheet" href="/andyyang-blog-vuepress/assets/css/369.styles.5ba6a8df.css"><link rel="stylesheet" href="/andyyang-blog-vuepress/assets/css/364.styles.875f7ca2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div data-app="true" id="doc" class="v-application v-application--is-ltr theme--light" data-v-85cb3d8a><div class="v-application--wrap"><!----> <header class="v-sheet theme--light elevation-0 v-toolbar v-toolbar--dense v-app-bar v-app-bar--clipped" style="height:48px;margin-top:0px;transform:translateY(0px);left:0px;right:0px;" data-v-7a69d0a6 data-v-85cb3d8a><div class="v-toolbar__content" style="height:48px;"><button type="button" class="v-app-bar__nav-icon v-btn v-btn--icon v-btn--round theme--light v-size--default" data-v-7a69d0a6><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-menu theme--light" data-v-7a69d0a6></i></span></button> <div class="spacer" data-v-7a69d0a6></div> <div class="v-menu" data-v-7a69d0a6><button type="button" class="account-menu v-btn v-btn--text theme--light v-size--large" data-v-7a69d0a6><span class="v-btn__content"><div class="v-avatar mr-2" style="height:36px;min-width:36px;width:36px;" data-v-7a69d0a6><img src="/andyyang-blog-vuepress/assets/img/me.f91f18c4.png" alt="mulinzi" data-v-7a69d0a6></div> <span class="pl-1 pr-1" data-v-7a69d0a6>Andyyang</span> <i aria-hidden="true" class="v-icon notranslate mdi mdi-chevron-down theme--light" data-v-7a69d0a6></i></span></button><!----></div></div></header> <nav class="v-navigation-drawer v-navigation-drawer--clipped v-navigation-drawer--close v-navigation-drawer--fixed v-navigation-drawer--is-mobile theme--light" style="height:100vh;top:0px;transform:translateX(-100%);width:300px;" data-v-67c32539 data-v-85cb3d8a><div class="v-navigation-drawer__content"><div class="v-input mx-2 mt-3 v-input--hide-details v-input--dense theme--light v-text-field v-text-field--enclosed v-text-field--outlined" data-v-67c32539><div class="v-input__control"><div class="v-input__slot"><fieldset aria-hidden="true"><legend style="width:0px;"><span class="notranslate">&#8203;</span></legend></fieldset><div class="v-text-field__slot"><label for="input-38454" class="v-label theme--light" style="left:0px;right:auto;position:absolute;">查找笔记文件</label><input id="input-38454" type="text"></div><div class="v-input__append-inner"><div></div></div><div class="v-input__append-inner"><div class="v-input__icon v-input__icon--append"><i aria-hidden="true" class="v-icon notranslate mdi mdi-magnify theme--light"></i></div></div></div></div></div> <div class="v-treeview v-treeview--hoverable theme--light" data-v-67c32539><div aria-expanded="false" class="v-treeview-node v-treeview-node--click"><div class="v-treeview-node__root"><button type="button" class="v-icon notranslate v-treeview-node__toggle v-icon--link mdi mdi-menu-down theme--light"></button><div class="v-treeview-node__content"><div class="v-treeview-node__prepend"><i aria-hidden="true" class="v-icon notranslate mdi mdi-folder theme--light" data-v-67c32539></i></div><div class="v-treeview-node__label"><span class="v-tooltip v-tooltip--right" data-v-67c32539><!----><div aria-haspopup="true" aria-expanded="false" class="leaf-label" data-v-67c32539>
            1.基础知识
          </div></span></div></div></div><!----></div><div aria-expanded="false" class="v-treeview-node v-treeview-node--click"><div class="v-treeview-node__root"><button type="button" class="v-icon notranslate v-treeview-node__toggle v-icon--link mdi mdi-menu-down theme--light"></button><div class="v-treeview-node__content"><div class="v-treeview-node__prepend"><i aria-hidden="true" class="v-icon notranslate mdi mdi-folder theme--light" data-v-67c32539></i></div><div class="v-treeview-node__label"><span class="v-tooltip v-tooltip--right" data-v-67c32539><!----><div aria-haspopup="true" aria-expanded="false" class="leaf-label" data-v-67c32539>
            2.进阶知识
          </div></span></div></div></div><!----></div><div aria-expanded="false" class="v-treeview-node v-treeview-node--click"><div class="v-treeview-node__root"><button type="button" class="v-icon notranslate v-treeview-node__toggle v-icon--link mdi mdi-menu-down theme--light"></button><div class="v-treeview-node__content"><div class="v-treeview-node__prepend"><i aria-hidden="true" class="v-icon notranslate mdi mdi-folder theme--light" data-v-67c32539></i></div><div class="v-treeview-node__label"><span class="v-tooltip v-tooltip--right" data-v-67c32539><!----><div aria-haspopup="true" aria-expanded="false" class="leaf-label" data-v-67c32539>
            3.常见知识
          </div></span></div></div></div><!----></div><div aria-expanded="false" class="v-treeview-node v-treeview-node--click"><div class="v-treeview-node__root"><button type="button" class="v-icon notranslate v-treeview-node__toggle v-icon--link mdi mdi-menu-down theme--light"></button><div class="v-treeview-node__content"><div class="v-treeview-node__prepend"><i aria-hidden="true" class="v-icon notranslate mdi mdi-folder theme--light" data-v-67c32539></i></div><div class="v-treeview-node__label"><span class="v-tooltip v-tooltip--right" data-v-67c32539><!----><div aria-haspopup="true" aria-expanded="false" class="leaf-label" data-v-67c32539>
            4.常见问题
          </div></span></div></div></div><!----></div><div aria-expanded="false" class="v-treeview-node v-treeview-node--click"><div class="v-treeview-node__root"><button type="button" class="v-icon notranslate v-treeview-node__toggle v-icon--link mdi mdi-menu-down theme--light"></button><div class="v-treeview-node__content"><div class="v-treeview-node__prepend"><i aria-hidden="true" class="v-icon notranslate mdi mdi-folder theme--light" data-v-67c32539></i></div><div class="v-treeview-node__label"><span class="v-tooltip v-tooltip--right" data-v-67c32539><!----><div aria-haspopup="true" aria-expanded="false" class="leaf-label" data-v-67c32539>
            5.图书馆
          </div></span></div></div></div><!----></div><div aria-expanded="false" class="v-treeview-node v-treeview-node--click"><div class="v-treeview-node__root"><button type="button" class="v-icon notranslate v-treeview-node__toggle v-icon--link mdi mdi-menu-down theme--light"></button><div class="v-treeview-node__content"><div class="v-treeview-node__prepend"><i aria-hidden="true" class="v-icon notranslate mdi mdi-folder theme--light" data-v-67c32539></i></div><div class="v-treeview-node__label"><span class="v-tooltip v-tooltip--right" data-v-67c32539><!----><div aria-haspopup="true" aria-expanded="false" class="leaf-label" data-v-67c32539>
            6.资源
          </div></span></div></div></div><!----></div></div></div><div class="v-navigation-drawer__border"></div></nav> <main class="v-main" style="padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;" data-v-85cb3d8a><div class="v-main__wrap"><!----> <div id="scroll-body" class="theme-container py-sm-10 py-0" data-v-85cb3d8a><div class="theme-default-content d-flex flex-column pa-sm-6 pa-2" data-v-85cb3d8a><div class="content__default"><h2 id="工具"><a href="#工具" class="header-anchor">#</a> 工具</h2> <h3 id="在线执行html-js-css"><a href="#在线执行html-js-css" class="header-anchor">#</a> 在线执行html/js/css</h3> <p>http://jsrun.pro/new</p> <h2 id="厂商"><a href="#厂商" class="header-anchor">#</a> 厂商</h2> <h3 id="chrome"><a href="#chrome" class="header-anchor">#</a> Chrome</h3> <h4 id="chrome的控制台-开发者工具"><a href="#chrome的控制台-开发者工具" class="header-anchor">#</a> chrome的控制台/开发者工具</h4> <ul><li>英文<br>
chrome devtools</li> <li>源码<br>
https://github.com/ChromeDevTools</li> <li>教程文档（中文）<br>
https://www.html.cn/doc/chrome-devtools/network-performance/resource-loading/<br>
（英文）<br>
https://developers.google.cn/web/tools/chrome-devtools/javascript/</li> <li><B>[Tab]</B> performance monitor（实时性能监控）
</li></ul> <p><a href="https://codepen.io/malyw/pen/QOQvyz" target="_blank" rel="noopener noreferrer">DEMO（官方示例）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
+ 实时的检测你的CSS性能<br>
“Layouts / sec”<br>
“Style recalcs / sec”</p> <div class="language- extra-class"><pre><code>+ &lt;span style=&quot;color:red;&quot;&gt;性能差的样式写法:&lt;/span&gt;    
&lt;span style=&quot;display: inline-block;width:20px;&quot;&gt;&lt;/span&gt;感谢 csstriggers.com，我们知道，改变 CSS 的 top 和 left 属性会触发整个像素渲染流程：绘制，布局和组合。如果我们将这些属性用于动画，它将每秒触发几十次/上百次操作。

+ &lt;span style=&quot;color:green;&quot;&gt;性能好的样式写法:&lt;/span&gt;    
&lt;span style=&quot;display: inline-block;width:20px;&quot;&gt;&lt;/span&gt;但是如果你使用 CSS 的 transform 属性的 translateX/Y 来切换动画，你将会发现，这并不会触发绘制和布局，仅仅会触发组合这一阶段，因为这是基于 GPU 的，会将你的 CPU 使用率降低为基本为 0%。
</code></pre></div><h4 id="performance"><a href="#performance" class="header-anchor">#</a> performance</h4> <p><img src="/andyyang-blog-vuepress/assets/img/performance-timing-1.2aebc65f.png" alt="performance-timing-1"></p> <ul><li>性能数据
window.performance.timing
<img src="/andyyang-blog-vuepress/assets/img/performance-timing.ecb1b206.png" alt="performance-timing"></li> <li>性能指标<br>
DNS查询耗时 = domainLookupEnd - domainLookupStart<br>
TCP链接耗时 = connectEnd - connectStart<br>
request请求耗时 = responseEnd - responseStart<br>
解析dom树耗时 = domComplete - domInteractive<br>
白屏时间 = domloadng - fetchStart<br>
domready时间 = domContentLoadedEventEnd - fetchStart<br>
onload时间 = loadEventEnd - fetchStart</li> <li>总结<br>
1.对于网页的测速上报需求，可以通过对Performance.timing对象的属性排列组合，计算出业务需要的测速数据。<br>
2.对于网页的性能监测需求，可以通过对Performance.memory对象进行分析，得出内存使用情况等数据。<br>
3.对于页面的其他业务监测需求，可以通过Performance提供的其他方法进行灵活使用，计算出业务所需数据</li> <li>二、下面标注几个比较重要的统计阶段
<ul><li><p>页面加载完成的时间，这几乎代表了用户等待页面可用的时间<br> <span style="display:inline-block;width:20px;"></span>loadPage = loadEventEnd - navigationStart</p></li> <li><p>解析 DOM 树结构的时间，反省下你的 DOM 树嵌套是不是太多了！<br> <span style="display:inline-block;width:20px;"></span>domReady = domComplete - responseEnd;</p></li> <li><p>重定向的时间，拒绝重定向！比如，http://fudao.qq.com/ 就不该写成 http://fudao.qq.com<br> <span style="display:inline-block;width:20px;"></span>redirect = redirectEnd - redirectStart;</p></li> <li><p>DNS 查询时间,页面内是不是使用了太多不同的域名导致域名查询的时间太长？<br> <span style="display:inline-block;width:20px;"></span>lookupDomain = domainLookupEnd - domainLookupStart;<br>
详见 HTML5 prefetch</p></li> <li><p>读取页面第一个字节的时间，可以理解为用户拿到你的资源占用的时间，<br>
加异地机房了么，加CDN 处理了么？加带宽了么？加 CPU 运算速度了么？<br> <span style="display:inline-block;width:20px;"></span>TTFB 即 Time To First Byte 的意思<br>
ttfb = responseStart - navigationStart;</p></li> <li><p>内容加载完成的时间，页面内容经过 gzip 压缩了么，静态资源 css、js 等压缩<br> <span style="display:inline-block;width:20px;"></span>request = responseEnd - requestStart;</p></li> <li><p>执行 onload 回调函数的时间
<span style="display:inline-block;width:20px;"></span>是否太多不必要的操作都放到 onload 回调函数里执行了，考虑过延迟加载、按需加载的策略么？</p> <p><span style="display:inline-block;width:20px;"></span>loadEvent = loadEventEnd - loadEventStart;</p> <ul><li>DNS 缓存时间<br> <span style="display:inline-block;width:20px;"></span>appcache = domainLookupStart - fetchStart;</li> <li>卸载页面的时间<br> <span style="display:inline-block;width:20px;"></span>times.unloadEvent = unloadEventEnd - unloadEventStart;</li> <li>TCP 建立连接完成握手的时间<br> <span style="display:inline-block;width:20px;"></span>times.connect = connectEnd - connectStart;</li></ul></li></ul></li> <li>加载时间</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 计算加载时间</span>
<span class="token keyword">function</span> <span class="token function">getPerformanceTiming</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">var</span> performance <span class="token operator">=</span> window<span class="token punctuation">.</span>performance<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>performance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 当前浏览器不支持</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'你的浏览器不支持 performance 接口'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> t <span class="token operator">=</span> performance<span class="token punctuation">.</span>timing<span class="token punctuation">;</span>
    <span class="token keyword">var</span> times <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">//【重要】页面加载完成的时间</span>
    <span class="token comment">//【原因】这几乎代表了用户等待页面可用的时间</span>
    times<span class="token punctuation">.</span>loadPage <span class="token operator">=</span> t<span class="token punctuation">.</span>loadEventEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>navigationStart<span class="token punctuation">;</span>

    <span class="token comment">//【重要】解析 DOM 树结构的时间</span>
    <span class="token comment">//【原因】反省下你的 DOM 树嵌套是不是太多了！</span>
    times<span class="token punctuation">.</span>domReady <span class="token operator">=</span> t<span class="token punctuation">.</span>domComplete <span class="token operator">-</span> t<span class="token punctuation">.</span>responseEnd<span class="token punctuation">;</span>

    <span class="token comment">//【重要】重定向的时间</span>
    <span class="token comment">//【原因】拒绝重定向！比如，http://example.com/ 就不该写成 http://example.com</span>
    times<span class="token punctuation">.</span>redirect <span class="token operator">=</span> t<span class="token punctuation">.</span>redirectEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>redirectStart<span class="token punctuation">;</span>

    <span class="token comment">//【重要】DNS 查询时间</span>
    <span class="token comment">//【原因】DNS 预加载做了么？页面内是不是使用了太多不同的域名导致域名查询的时间太长？</span>
    <span class="token comment">// 可使用 HTML5 Prefetch 预查询 DNS ，见：[HTML5 prefetch](http://segmentfault.com/a/1190000000633364)            </span>
    times<span class="token punctuation">.</span>lookupDomain <span class="token operator">=</span> t<span class="token punctuation">.</span>domainLookupEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>domainLookupStart<span class="token punctuation">;</span>

    <span class="token comment">//【重要】读取页面第一个字节的时间</span>
    <span class="token comment">//【原因】这可以理解为用户拿到你的资源占用的时间，加异地机房了么，加CDN 处理了么？加带宽了么？加 CPU 运算速度了么？</span>
    <span class="token comment">// TTFB 即 Time To First Byte 的意思</span>
    <span class="token comment">// 维基百科：https://en.wikipedia.org/wiki/Time_To_First_Byte</span>
    times<span class="token punctuation">.</span>ttfb <span class="token operator">=</span> t<span class="token punctuation">.</span>responseStart <span class="token operator">-</span> t<span class="token punctuation">.</span>navigationStart<span class="token punctuation">;</span>

    <span class="token comment">//【重要】内容加载完成的时间</span>
    <span class="token comment">//【原因】页面内容经过 gzip 压缩了么，静态资源 css/js 等压缩了么？</span>
    times<span class="token punctuation">.</span>request <span class="token operator">=</span> t<span class="token punctuation">.</span>responseEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>requestStart<span class="token punctuation">;</span>

    <span class="token comment">//【重要】执行 onload 回调函数的时间</span>
    <span class="token comment">//【原因】是否太多不必要的操作都放到 onload 回调函数里执行了，考虑过延迟加载、按需加载的策略么？</span>
    times<span class="token punctuation">.</span>loadEvent <span class="token operator">=</span> t<span class="token punctuation">.</span>loadEventEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>loadEventStart<span class="token punctuation">;</span>

    <span class="token comment">// DNS 缓存时间</span>
    times<span class="token punctuation">.</span>appcache <span class="token operator">=</span> t<span class="token punctuation">.</span>domainLookupStart <span class="token operator">-</span> t<span class="token punctuation">.</span>fetchStart<span class="token punctuation">;</span>

    <span class="token comment">// 卸载页面的时间</span>
    times<span class="token punctuation">.</span>unloadEvent <span class="token operator">=</span> t<span class="token punctuation">.</span>unloadEventEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>unloadEventStart<span class="token punctuation">;</span>

    <span class="token comment">// TCP 建立连接完成握手的时间</span>
    times<span class="token punctuation">.</span>connect <span class="token operator">=</span> t<span class="token punctuation">.</span>connectEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>connectStart<span class="token punctuation">;</span>

    <span class="token keyword">return</span> times<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>参考：<br>
http://www.alloyteam.com/2015/09/explore-performance/</p> <h4 id="表格展示页面加载分析情况-重要-自写"><a href="#表格展示页面加载分析情况-重要-自写" class="header-anchor">#</a> 表格展示页面加载分析情况(重要)(自写)</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">w</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> resultObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">//初始化相关</span>
    <span class="token keyword">function</span> <span class="token function">UnitConversion</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> num <span class="token operator">&gt;=</span><span class="token number">1000</span> <span class="token operator">?</span> num<span class="token operator">/</span><span class="token number">1000</span> <span class="token operator">+</span> <span class="token string">&quot;s&quot;</span> <span class="token operator">:</span> num <span class="token operator">+</span> <span class="token string">&quot;ms&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">TestTiming</span><span class="token punctuation">(</span><span class="token parameter">timing</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> timerArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> dnsTimer <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">key</span><span class="token operator">:</span><span class="token string">&quot;DNS查询耗时&quot;</span> <span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span><span class="token function">UnitConversion</span><span class="token punctuation">(</span>timing<span class="token punctuation">.</span>domainLookupEnd <span class="token operator">-</span> timing<span class="token punctuation">.</span>domainLookupStart<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> tcpTimer <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">key</span><span class="token operator">:</span><span class="token string">&quot;TCP链接耗时&quot;</span> <span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span><span class="token function">UnitConversion</span><span class="token punctuation">(</span>timing<span class="token punctuation">.</span>connectEnd <span class="token operator">-</span> timing<span class="token punctuation">.</span>connectStart<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> requestTimer <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">key</span><span class="token operator">:</span><span class="token string">&quot;request请求耗时&quot;</span> <span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span><span class="token function">UnitConversion</span><span class="token punctuation">(</span>timing<span class="token punctuation">.</span>responseEnd <span class="token operator">-</span> timing<span class="token punctuation">.</span>responseStart<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> domTimer <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">key</span><span class="token operator">:</span><span class="token string">&quot;解析dom树耗时&quot;</span> <span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span><span class="token function">UnitConversion</span><span class="token punctuation">(</span>timing<span class="token punctuation">.</span>domComplete <span class="token operator">-</span> timing<span class="token punctuation">.</span>domInteractive<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>domTimer<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">var</span> pageEmptyTimer <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">key</span><span class="token operator">:</span><span class="token string">&quot;白屏时间&quot;</span> <span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span><span class="token function">UnitConversion</span><span class="token punctuation">(</span>timing<span class="token punctuation">.</span>responseStart <span class="token operator">-</span> timing<span class="token punctuation">.</span>navigationStart<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> domReadyTimer <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">key</span><span class="token operator">:</span><span class="token string">&quot;domready时间&quot;</span> <span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span><span class="token function">UnitConversion</span><span class="token punctuation">(</span>timing<span class="token punctuation">.</span>domContentLoadedEventEnd <span class="token operator">-</span> timing<span class="token punctuation">.</span>navigationStart<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> onloadTimer <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">key</span><span class="token operator">:</span><span class="token string">&quot;onload时间&quot;</span> <span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span><span class="token function">UnitConversion</span><span class="token punctuation">(</span>timing<span class="token punctuation">.</span>loadEventEnd <span class="token operator">-</span> timing<span class="token punctuation">.</span>navigationStart<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>onloadTimer<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">var</span> allTimer <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">key</span><span class="token operator">:</span><span class="token string">&quot;总耗时&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token function">UnitConversion</span><span class="token punctuation">(</span><span class="token punctuation">(</span>timing<span class="token punctuation">.</span>domainLookupEnd <span class="token operator">-</span> timing<span class="token punctuation">.</span>domainLookupStart<span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span>timing<span class="token punctuation">.</span>connectEnd <span class="token operator">-</span> timing<span class="token punctuation">.</span>connectStart<span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span>timing<span class="token punctuation">.</span>responseEnd <span class="token operator">-</span> timing<span class="token punctuation">.</span>responseStart<span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span>timing<span class="token punctuation">.</span>domComplete <span class="token operator">-</span> timing<span class="token punctuation">.</span>domInteractive<span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span>timing<span class="token punctuation">.</span>responseStart <span class="token operator">-</span> timing<span class="token punctuation">.</span>navigationStart<span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span>timing<span class="token punctuation">.</span>domContentLoadedEventEnd <span class="token operator">-</span> timing<span class="token punctuation">.</span>navigationStart<span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span>timing<span class="token punctuation">.</span>loadEventEnd <span class="token operator">-</span> timing<span class="token punctuation">.</span>navigationStart<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
 
        timerArr <span class="token operator">=</span> timerArr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>dnsTimer<span class="token punctuation">,</span> tcpTimer<span class="token punctuation">,</span> requestTimer<span class="token punctuation">,</span> domTimer<span class="token punctuation">,</span> pageEmptyTimer<span class="token punctuation">,</span> domReadyTimer<span class="token punctuation">,</span> onloadTimer<span class="token punctuation">,</span> allTimer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> timerArr<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//请求的各种资源（js,图片，样式等）</span>
    <span class="token keyword">function</span> <span class="token function">TestResource</span><span class="token punctuation">(</span><span class="token parameter">resourcesObj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> resourceArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> len <span class="token operator">=</span> resourcesObj<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>i <span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">var</span> temp <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> cur <span class="token operator">=</span> resourcesObj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            temp<span class="token punctuation">.</span>key <span class="token operator">=</span> cur<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
            temp<span class="token punctuation">.</span>resValue <span class="token operator">=</span> <span class="token function">UnitConversion</span><span class="token punctuation">(</span>cur<span class="token punctuation">.</span>responseEnd <span class="token operator">-</span> cur<span class="token punctuation">.</span>requestStart<span class="token punctuation">)</span><span class="token punctuation">;</span>
            temp<span class="token punctuation">.</span>conValue <span class="token operator">=</span> <span class="token function">UnitConversion</span><span class="token punctuation">(</span>cur<span class="token punctuation">.</span>connectEnd <span class="token operator">-</span> cur<span class="token punctuation">.</span>connectStart<span class="token punctuation">)</span><span class="token punctuation">;</span>
            resourceArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> resourceArr<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//页面的加载方式</span>
    <span class="token keyword">function</span> <span class="token function">pageLoadMethod</span><span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> loadMethod <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        loadMethod<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;进入页面的方式&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">switch</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span>
                str <span class="token operator">=</span> <span class="token string">'点击链接、地址栏输入、表单提交、脚本操作等方式加载'</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
                str <span class="token operator">=</span> <span class="token string">'通过“重新加载”按钮或者location.reload()方法加载'</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
                str <span class="token operator">=</span> <span class="token string">'网页通过“前进”或“后退”按钮加载'</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">default</span><span class="token operator">:</span>
                str <span class="token operator">=</span> <span class="token string">'任何其他来源的加载'</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        loadMethod<span class="token punctuation">.</span>value <span class="token operator">=</span> str<span class="token punctuation">;</span>
        arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>loadMethod<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//输出性能数据</span>
    <span class="token keyword">function</span> <span class="token function">outPutData</span><span class="token punctuation">(</span><span class="token parameter">perObj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> timerArr <span class="token operator">=</span> <span class="token function">TestTiming</span><span class="token punctuation">(</span>perObj<span class="token punctuation">.</span>timing<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> resourcesArr <span class="token operator">=</span> <span class="token function">TestResource</span><span class="token punctuation">(</span>perObj<span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> loadMethodArr <span class="token operator">=</span> <span class="token function">pageLoadMethod</span><span class="token punctuation">(</span>perObj<span class="token punctuation">.</span>navigation<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;-------页面初始化------------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span>timerArr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;-------页面请求------------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span>resourcesArr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;-------页面加载方式------------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span>loadMethodArr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 
    w<span class="token punctuation">.</span>TestPage <span class="token operator">=</span> outPutData<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> time <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">var</span> interval <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>performance<span class="token punctuation">.</span>timing<span class="token punctuation">.</span>domComplete<span class="token operator">!=</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span>performance<span class="token punctuation">.</span>timing<span class="token punctuation">.</span>loadEventEnd<span class="token operator">!=</span><span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span>
      <span class="token function">TestPage</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>performance<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">)</span>
</code></pre></div><p>例子：查找最快的导航页
http://m.uc123.com/
<img src="/andyyang-blog-vuepress/assets/img/performance-timing-muc123.4e8c7f77.png" alt="performance-timing-muc123">
http://www.uc123.com/
<img src="/andyyang-blog-vuepress/assets/img/performance-timing-uc123.1281d731.png" alt="Image Text">
https://www.hao123.com/
<img src="/andyyang-blog-vuepress/assets/img/performance-timing-hao123.4d5eff6e.png" alt="Image Text">
http://www.qq123.com/
<img src="/andyyang-blog-vuepress/assets/img/performance-timing-qq123.08ab910d.png" alt="Image Text">
http://www.baidu.com/
<img src="/andyyang-blog-vuepress/assets/img/performance-timing-baidu.4f26e20c.png" alt="Image Text">
http://m.baidu.com/
<img src="/andyyang-blog-vuepress/assets/img/performance-timing-mbaidu.0cf2cc6f.png" alt="Image Text">
从数据来看，http://m.uc123.com/夺得头冠，所以我个人把它锁定为所有浏览器的主页
参考
https://blog.csdn.net/lovenjoe/article/details/80260658
https://blog.csdn.net/bxl0218/article/details/80813699</p> <h2 id="浏览器有几个引擎"><a href="#浏览器有几个引擎" class="header-anchor">#</a> 浏览器有几个引擎?</h2> <p>渲染引擎、js引擎、搜索引擎等</p></div> <div class="spacer"></div> <!----></div></div> <div class="v-menu" data-v-85cb3d8a><!----></div> <button type="button" class="to-top v-btn v-btn--bottom v-btn--is-elevated v-btn--fab v-btn--fixed v-btn--has-bg v-btn--right v-btn--round theme--light v-size--default" style="display:none;" data-v-85cb3d8a data-v-85cb3d8a><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-arrow-expand-up theme--light primary--text" data-v-85cb3d8a></i></span></button></div></main> <!----></div></div><div class="global-ui"><div class="v-snack v-snack--bottom v-snack--has-background v-snack--right v-snack--vertical" style="padding-bottom:0px;padding-left:0px;padding-right:0px;padding-top:0px;" data-v-fec8b358><div class="v-snack__wrapper v-sheet theme--dark" style="max-width:0px;display:none;"><div role="status" aria-live="polite" class="v-snack__content">
    作者又有了新的笔记哟，点击刷新查看
    </div><div class="v-snack__action "><button type="button" class="v-btn v-btn--text theme--dark v-size--default v-snack__btn"><span class="v-btn__content">
        刷新
      </span></button></div></div></div></div></div>
    <script src="/andyyang-blog-vuepress/assets/js/chunk-default.21cc7129.js" defer></script><script src="/andyyang-blog-vuepress/assets/js/369.8ae23cd4.js" defer></script><script src="/andyyang-blog-vuepress/assets/js/5.f6a25092.js" defer></script><script src="/andyyang-blog-vuepress/assets/js/364.6411275a.js" defer></script><script src="/andyyang-blog-vuepress/assets/js/vendors~app.911457c4.js" defer></script><script src="/andyyang-blog-vuepress/assets/js/app.77efb429.js" defer></script>
  </body>
</html>
